# SSH
ssh_profile_name_:
  type: input
  message: What do you want to call you SSH profile?

ssh_options_:
  type: select
  message: How would you like to configure your SSH key?
  choices:
    - ssh-keygen: Generate new SSH Keys
    - ssh-path: Set path to SSH keys

## SSH Path
ssh_public_key_path_:
  type: input
  message: What path is your public ssh key?
  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
  default: "~/.ssh/"

ssh_private_key_path_:
  type: input
  message: What path is your private ssh key?
  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
  default: "{{ ssh.ssh_public_key_path_ }}"

ssh_path_add_:
  type: yaml
  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
  path: "{{ ssh.secrets_file_ }}"
  in_place: true
  append_items:
    - name: "{{ ssh.ssh_profile_name_ }}"
      public_key_path: "{{ ssh.ssh_public_key_path_ }}"
      private_key_path: "{{ ssh.ssh_private_key_path_ }}"
  append_keys: ssh_profiles

## SSH Generate
ssh_keygen_path_:
  type: input
  message: What path to generate the ssh key?
  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
  default: "~/.ssh/{{ ssh.ssh_profile_name_ }}"

ssh_keygen_:
  type: command
  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
  command: |
    ssh-keygen -t rsa -b 4096 -f {{ ssh.ssh_keygen_path_ }}




#ssh_keygen_add_:
#  type: yaml
#  when: "{{ ssh.ssh_options_ == 'ssh-path' }}"
#  path: "{{ ssh.secrets_file_ }}"
#  in_place: true
#  append_items:
#    - name: "{{ ssh.ssh_profile_name_ }}"
#      public_key_path: "{{ ssh.ssh_keygen_path_ }}.pub"
#      private_key_path: "{{ ssh.ssh_keygen_path_ }}"
#  append_keys: ssh_profiles


