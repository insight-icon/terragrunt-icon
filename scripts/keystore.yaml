
#network_data_:
#  type: requests
#  method: GET
#  url: "https://raw.githubusercontent.com/JINWOO-J/icon_network_info/master/conf/{{ keystore.network_name }}.json"

#network_data_:
#  type: json
#  path: scripts/all.json

wallet_action_:
  type: select
  message: What do you want to do?
  choices:
    - link: Link to existing
    - create: Create a new wallet
    - fill: Get links to fill a wallet with test tokens

keystore_password_:
  type: password
  message: Password to wallet?
  when: "{{ keystore.wallet_action_ in ['link', 'create'] }}"
  
# Link
wallet_link_path_:
  type: input
  message: Path to the wallet >
  when: "{{ keystore.wallet_action_ == 'link' }}"

wallet_add_link_:
  type: yaml
  path: "{{ keystore.secrets_file_ }}"
  in_place: true
  append_items:
    - name: "{{ keystore.registration_name_ }}"
      keystore_path: "{{ keystore.wallet_link_path_ }}"
      keystore_password: "{{ keystore.keystore_password_ }}"
      operator_wallet_path: "{{ keystore.keystore_password_ }}"
  append_keys: wallet_profiles

# Create
wallet_create_path_:
  type: input
  message: What path do you want to put the keystore?
  default: "{{ cwd }}/{{ keystore.wallet_profile_name_ }}"
  when: "{{ keystore.wallet_action_ == 'create' }}"

wallet_create_:
  type: command
  command: "preptools keystore {{ keystore.wallet_create_path_ }} --password {{ keystore.keystore_password_ }}"
  when: "{{ keystore.wallet_action_ == 'create' }}"

wallet_add_create_:
  type: yaml
  path: "{{ keystore.secrets_file_ }}"
  in_place: true
  when: "{{ keystore.wallet_action_ == 'create' }}"
  append_items:
    - name: "{{ keystore.wallet_profile_name_ }}"
      keystore_path: "{{ keystore.wallet_create_path_ }}"
      keystore_password: "{{ keystore.keystore_password_ }}"
  append_keys: wallet_profiles

# Fill
wallet_network_fill_:
  type: select
  message: Which network do you want to fill a wallet with?
  when: "{{ keystore.wallet_action_ == 'fill' }}"
  choices:
    - https://faucet.reliantnode.com/: Zicon / Pagoda
    - https://icon-faucet.ibriz.ai/: Testnet / Yeouido

wallet_fill_link_:
  type: webbrowser
  url: "{{ keystore.wallet_network_fill_ }}"
  when: "{{ keystore.wallet_action_ == 'fill' }}"
